<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Join Jos Metro Business Alliance - membership sign up">
  <title>Join â€” Jos Metro Business Alliance</title>

  <meta property="og:title" content="Join â€” Jos Metro Business Alliance">
  <meta property="og:description" content="Become a member of the Jos Metro Business Alliance. Sign up for NP, Bronze, Silver, or Gold membership.">
  <meta property="og:image" content="images/social-preview.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yourdomain.com/join.html">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style/small.css" media="all">
  <link rel="stylesheet" href="style/join.css" media="all">

  <style>
    .cards-grid { display:grid; gap:1rem; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); }
    .membership-card { transform: translateY(12px); opacity: 0; transition: transform 420ms cubic-bezier(.2,.9,.2,1), opacity 420ms ease; will-change: transform, opacity; }
    .membership-card.animate-in { transform: translateY(0); opacity: 1; }
    @media (prefers-reduced-motion: reduce) {
      .membership-card { transition: none; transform: none; opacity: 1; }
    }
    :focus { outline: 3px solid #2a6fcb; outline-offset: 2px; }
    .visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px,1px,1px,1px); white-space: nowrap; }
  </style>

  <link rel="icon" href="images/favicon.png" type="image/png">
</head>
<body>
  <header>
    <div class="header-container">
      <h1>Jos Metro Business Alliance</h1>
      <nav id="main-nav" aria-label="Main Navigation">
        <button id="hamburger" aria-label="Toggle Navigation Menu" aria-expanded="false" aria-controls="nav-menu">&#9776;</button>
        <ul id="nav-menu" class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="directory.html">Directory</a></li>
          <li><a href="join.html" class="active" aria-current="page">Join</a></li>
          <li><a href="discover.html">Discover</a></li>
        </ul>
      </nav>
      <button id="dark-toggle" aria-label="Toggle Dark Mode" aria-pressed="false">ðŸŒ“</button>
    </div>
  </header>

  <main class="main-content container-form" id="main">
    <h2 class="page-title">Become a Member</h2>

    <section class="form-and-cards">
      <!-- Added heading to fix validator warning -->
      <h2 class="section-title visually-hidden">Membership Application & Levels</h2>

      <form id="join-form" class="join-form card" method="get" action="thankyou.html" autocomplete="on">
        <fieldset>
          <legend>Membership Application</legend>

          <label for="firstName" class="label-text">First name <span aria-hidden="true">*</span></label>
          <input type="text" name="firstName" id="firstName" title="Applicant's first name" autocomplete="given-name" required>

          <label for="lastName" class="label-text">Last name <span aria-hidden="true">*</span></label>
          <input type="text" name="lastName" id="lastName" title="Applicant's last name" autocomplete="family-name" required>

          <label for="orgTitle" class="label-text">Organizational title</label>
          <input type="text" name="orgTitle" id="orgTitle" title="Applicant's job or organizational title" autocomplete="organization-title" pattern="^[A-Za-z\s-]{7,}$" placeholder="e.g., Regional Manager">
          <small class="hint">Letters, hyphens and spaces only; minimum 7 characters.</small>

          <label for="email" class="label-text">Email <span aria-hidden="true">*</span></label>
          <input type="email" name="email" id="email" title="Applicant's email address" autocomplete="email" required placeholder="name@example.com">

          <label for="mobile" class="label-text">Mobile phone <span aria-hidden="true">*</span></label>
          <input type="tel" name="mobile" id="mobile" title="Applicant's mobile phone number" autocomplete="tel" required placeholder="+2348012345678">

          <label for="orgName" class="label-text">Business / Organization name <span aria-hidden="true">*</span></label>
          <input type="text" name="orgName" id="orgName" title="Business or organization name" autocomplete="organization" required>

          <label for="membership" class="label-text">Membership level <span aria-hidden="true">*</span></label>
          <select name="membership" id="membership" title="Select membership level" required>
            <option value="" disabled selected>Select a membership level</option>
            <option value="np">NP Membership â€” Non-Profit (no fee)</option>
            <option value="bronze">Bronze Membership</option>
            <option value="silver">Silver Membership</option>
            <option value="gold">Gold Membership</option>
          </select>

          <label for="orgDesc" class="label-text">Business / Organization description</label>
          <textarea name="orgDesc" id="orgDesc" title="Brief description of your business or organization" rows="4"></textarea>

          <input type="hidden" name="timestamp" id="timestamp" value="">

          <div class="submit-wrapper">
            <input type="submit" value="Submit Application" aria-label="Submit membership application">
          </div>
        </fieldset>
      </form>

      <aside class="membership-cards">
        <h3 class="visually-hidden">Membership Levels</h3>
        <div class="cards-grid" id="cards-grid" aria-live="polite">
          <article class="membership-card card" data-membership="np" tabindex="0" aria-labelledby="np-title">
            <h4 id="np-title">NP Membership</h4>
            <p>No fee â€” Non-profit organizations</p>
            <p><a href="#" class="more-info" data-dialog="dialog-np">View benefits</a></p>
            <p><a class="details-link apply-link" href="#join-form" data-membership="np" aria-label="Apply for NP Membership">Apply</a></p>
          </article>
          <article class="membership-card card" data-membership="bronze" tabindex="0" aria-labelledby="bronze-title">
            <h4 id="bronze-title">Bronze Membership</h4>
            <p>Affordable entry level benefits</p>
            <p><a href="#" class="more-info" data-dialog="dialog-bronze">View benefits</a></p>
            <p><a class="details-link apply-link" href="#join-form" data-membership="bronze" aria-label="Apply for Bronze Membership">Apply</a></p>
          </article>
          <article class="membership-card card" data-membership="silver" tabindex="0" aria-labelledby="silver-title">
            <h4 id="silver-title">Silver Membership</h4>
            <p>Includes advertising and event discounts</p>
            <p><a href="#" class="more-info" data-dialog="dialog-silver">View benefits</a></p>
            <p><a class="details-link apply-link" href="#join-form" data-membership="silver" aria-label="Apply for Silver Membership">Apply</a></p>
          </article>
          <article class="membership-card card" data-membership="gold" tabindex="0" aria-labelledby="gold-title">
            <h4 id="gold-title">Gold Membership</h4>
            <p>Premium benefits, priority spotlight</p>
            <p><a href="#" class="more-info" data-dialog="dialog-gold">View benefits</a></p>
            <p><a class="details-link apply-link" href="#join-form" data-membership="gold" aria-label="Apply for Gold Membership">Apply</a></p>
          </article>
        </div>
      </aside>
    </section>
  </main>

  <!-- Dialogs remain unchanged -->

  <dialog id="dialog-np" class="membership-dialog" aria-labelledby="dialog-np-title">
    <h3 id="dialog-np-title">NP Membership â€” Benefits</h3>
    <div class="dialog-body">
      <ul>
        <li>Listing in our directory (basic)</li>
        <li>Access to volunteer-centered events</li>
        <li>Community support resources</li>
      </ul>
    </div>
    <div class="dialog-actions">
      <button class="dialog-close">Close</button>
    </div>
  </dialog>

  <dialog id="dialog-bronze" class="membership-dialog" aria-labelledby="dialog-bronze-title">
    <h3 id="dialog-bronze-title">Bronze Membership â€” Benefits</h3>
    <div class="dialog-body">
      <ul>
        <li>Directory listing with logo</li>
        <li>Invitations to networking events</li>
        <li>Discounts to local workshops</li>
      </ul>
    </div>
    <div class="dialog-actions">
      <button class="dialog-close">Close</button>
    </div>
  </dialog>

  <dialog id="dialog-silver" class="membership-dialog" aria-labelledby="dialog-silver-title">
    <h3 id="dialog-silver-title">Silver Membership â€” Benefits</h3>
    <div class="dialog-body">
      <ul>
        <li>Featured spotlight on homepage</li>
        <li>Priority event registration</li>
        <li>Advertising opportunities</li>
      </ul>
    </div>
    <div class="dialog-actions">
      <button class="dialog-close">Close</button>
    </div>
  </dialog>

  <dialog id="dialog-gold" class="membership-dialog" aria-labelledby="dialog-gold-title">
    <h3 id="dialog-gold-title">Gold Membership â€” Benefits</h3>
    <div class="dialog-body">
      <ul>
        <li>Premium homepage spotlight</li>
        <li>Exclusive training & events</li>
        <li>Top-tier advertising packages</li>
      </ul>
    </div>
    <div class="dialog-actions">
      <button class="dialog-close">Close</button>
    </div>
  </dialog>

  <footer>
    <div class="footer-content">
      <address class="contact">
        <p>Jos Metro Business Alliance</p>
        <p>No. 007 Street, Jos, Plateau State</p>
        <p>Email: <a href="mailto:alexanderedache4@gmail.com">alexanderedache4@gmail.com</a> | Phone: 08104266274</p>
      </address>

      <div class="socials">
        <a href="#" aria-label="Facebook"><img src="image/Facebook.svg" alt="Facebook logo" width="28" height="30"></a>
        <a href="#" aria-label="Twitter"><img src="image/twitter-x.svg" alt="Twitter logo" width="28" height="30"></a>
        <a href="#" aria-label="LinkedIn"><img src="image/linkedin.svg" alt="LinkedIn logo" width="28" height="30"></a>
      </div>

      <div class="copyright">
        <p>WDD231 Class Project</p>
        <p>Emmanuel Edache</p>
        <p>&copy; <span id="year"></span> | Last Modified: <span id="last-modified"></span></p>
      </div>
    </div>
  </footer>

  <script src="scripts/spotlight.js?v=1" defer></script>
  <script src="scripts/weather.js?v=1" defer></script>
  <script src="scripts/join.js?v=1" defer></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const yearEl = document.getElementById("year");
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      const lm = document.getElementById("last-modified");
      if (lm) lm.textContent = document.lastModified;

      document.getElementById('join-form').addEventListener('submit', function() {
        document.getElementById('timestamp').value = new Date().toISOString();
      });

      const navLinks = document.querySelector(".nav-links");
      const hamburger = document.getElementById("hamburger");
      const darkToggle = document.getElementById("dark-toggle");

      if (hamburger) {
        hamburger.addEventListener("click", () => {
          const isOpen = navLinks.classList.toggle("open");
          hamburger.setAttribute("aria-expanded", isOpen);
        });
      }

      const saved = localStorage.getItem("dark-mode");
      if (saved === "enabled" || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.body.classList.add("dark");
        if (darkToggle) darkToggle.setAttribute("aria-pressed", "true");
      }

      if (darkToggle) {
        darkToggle.addEventListener("click", () => {
          const isActive = document.body.classList.toggle("dark");
          darkToggle.setAttribute("aria-pressed", isActive ? "true" : "false");
          localStorage.setItem("dark-mode", isActive ? "enabled" : "disabled");
        });
      }
    });
  </script>
</body>
</html>
